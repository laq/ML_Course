<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>S4N</title>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/seven.css">
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="custom/css/cssimages.css">
    <!-- Printing and PDF exports -->
    <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );

    </script>
</head>
<body>
<div id="left"></div>
<div id="right"></div>
<div id="top"></div>
<div id="bottom"></div>
<div class="reveal">
    <div class="slides">
        <section data-background="url('images/logo_esquina_intro_end.svg'), linear-gradient(to right, #443548, #b71930, #e94635)"
                 data-background-position="right bottom" data-background-repeat="no-repeat">
            <img class="no-border" width="5%" src="images/rombo.svg"/>
            <img class="no-border" width="13%" src="images/s4n.svg"/>
            <h1 class="white-font">Configuración</h1>
            <blockquote class="white-font" cite="https://landing.google.com/sre/book/chapters/introduction.html">
                &ldquo;Config is Code and Everything is Config&rdquo;
            </blockquote>
        </section>

        <section>
           <section data-background="url('images/logo_esquina.svg')" data-background-position="right bottom" data-background-repeat="no-repeat">                
                <img class="stretch" src="images/cac/workedFine.jpg">
            </section>
            <section>
                <h2>¿Cuál es el problema?</h2>
            </section>
            <section>
                <h2>¿Posibles soluciones?</h2>
                <p class="fragment">¿Avestruz?</p>
                <p class="fragment">"Experto" en configuración (Memoria, andres.sh)</p>
                <p class="fragment">Documento de instalación</p>
                <p class="fragment">¿Varios Archivos de conf(uno por ambiente)?</p>
                <p class="fragment">¿Branch por ambiente?</p>
            </section>
        </section>
        

        <section>
            <section>
                <img style="float: left" class="no-border" width="10%" src="images/rombo.svg"/>
                <h1>Conceptos</h1>
            </section>
       
            <section> 
                <h2>Configuration Management</h2>
                <blockquote>
                    &ldquo;Refers to the process of systematically handling changes to a system in a way that it maintains integrity over time.&rdquo;
                </blockquote>                

                <p class="fragment">Manejo del repositorio código</p>

            </section>

            <section>
                <h2>Tipos Configuración</h1>
                <p>Configuración del Ambiente</p>                
                <p>Configuración de la Aplicación</p>
            </section>

            <section>
                <h2>Configuración del Ambiente</h2>
                <p>Sistema Operativo(Versión, parches y parámetros)</p>                
                <p class="fragment grow">Dependencias(Versiones, configuración)</p>
                <p>Topología de red</p>
                <p>Servicios externos</p>
                <p>Estados esperados (Datos en la DB, Colas)</p>   
                <aside class="notes">Aplicar parches en prod vs crear imagenes con los parches ya aplicados</aside>            
            </section>

            <section>
                <h2>Configuración de la Aplicación</h2>
                <p>Librerías</p>
                <p class="fragment grow">Parámetros(passwords, endpoints, nivel logging)</p>                
            </section>

            <section>
                <h2>Momentos para agregar configuración a la aplicación</h2>
                <p class="fragment highlight-red">Build Time <span class="fragment">(Quemado en el código)</span></p>
                <p class="fragment highlight-red">Packaging Time <span class="fragment">(Archivo empaquetado)</span></p>
                <p>Deployment Time <span class="fragment">(Deployment script fetches config)</span></p>
                <p>Startup or Run Time <span class="fragment">(Environment Variables)</span></p>
            </section>


            <section>
                <p>Los ambientes configurados a mano son obras de arte</p>
                <p class="fragment">Queremos que nuestros ambientes sean objetos producidos en masa</p>
            </section>
   
        </section>

        <section>
            <section>
                <img style="float: left" class="no-border" width="10%" src="images/rombo.svg"/>
                <h1>Configuración como código</h1>
            </section>

            <section>
                <h2>Herramientas manejo de la configuración</h2>
                <p>Pull(agent) vs Push</p>
                <p>Idempotencia</p>
                <p>System Facts</p>
                <p>Templates</p>
                <p>Plugins</p>
            </section>

            <section>                
                <iframe class="stretch" width="560" height="315" src="https://www.youtube.com/embed/_pUdL4w9E7k?start=2" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
            </section>

        </section>

        <section data-background="url('images/logo_esquina.svg')" data-background-position="right bottom" data-background-repeat="no-repeat">

            <!--Title-->
            <section>
                <img style="float: left" class="no-border" width="10%" src="images/rombo.svg"/>
                <h1 style="font-size: 2.0em;">Taller Práctico</h1>
            </section>

            <!--Objetivo-->
            <section>
                <h3>Objetivo</h3>
                <p>En este laboratorio vamos a utilizar Ansible como herramienta de configuración sobre un conjunto de máquinas aprovisionadas previamente</p>
            </section>

            <!--Ansible-->
            <section>
                <h3>Ansible Como Herramienta de Configuración</h3>
                <p><center><img src="images/configuration/ansible_inventories.png" class="no-border" width="50%"></center></p>
            </section>

            <!--Ansible-->
            <section>
                <h3>Ansible Como Herramienta de Configuración</h3>
                <p><center><img src="images/configuration/ansible_variables.png" class="no-border" width="100%"></center></p>
            </section>

            <!--Ansible-->
            <section>
                <h3>Ansible Como Herramienta de Configuración</h3>
                <p><center><img src="images/configuration/ansible_play_roles_tasks.png" class="no-border" width="70%"></center></p>
            </section>

            <!--Ansible-->
            <section>
                <h3>Ansible Como Herramienta de Configuración</h3>
                <p><center><img src="images/configuration/ansible_definition.png" class="no-border" width="60%"></center></p>
            </section>

            <!--Ansible-->
            <section>
                <h3>Ansible Como Herramienta de Configuración</h3>
                <p><center><img src="images/configuration/ansible_creates_jenkins.png" class="no-border" width="50%"></center></p>
            </section>

            <!--Ansible-->
            <section>
                <h3>Ansible Como Herramienta de Configuración</h3>
                <p><center><img src="images/configuration/ansible_configures_jenkins.png" class="no-border" width="60%"></center></p>
            </section>

            <!--Análisis-->
            <section>
                <h4>Ejemplo</h4>
                <ul style="font-size: 0.8em;">
                    <li>Revise la estructura de la carpeta <i>/ansible</i></li>
                    <li>Identifique los inventarios que se están usando
                    <ul>
                        <li>Qué hosts estamos usando</li>
                        <li>En dónde está la configuración específica del host</li>
                        <li>A qué hace referencia esta configuración</li></ul>
                    </li>
                    <li>Cuál es el propósito del playbook <i>nginx.yml</i></li>

                </ul>
            </section>

            <!--Jenkins-->
            <section>
            <h4>Requisitos de jenkins</h4>
                <ul style="font-size: 0.8em;">
                    <li>Instalar el JDK para que Jenkins pueda ejecutarse</li>
                    <li>Instalar jenkins</li>
                    <ul>
                        <li>
                            Puede seguir las instrucciones en
                            <a href="https://jenkins.io/doc/book/installing/"> la página de jenkins</a>
                            para su OS específico
                    </li></ul>
                </ul>
            </section>

        </section>

        <section>

            <section>
                <h2>Ventajas <span class="fragment"> de tener las dimensiones como Código</span></h2>
                <p>Velocidad aprovisionamiento</p>
                <p>Velocidad de recuperación</p>
                <p>Velocidad de rollback</p>
                <p>Eliminado de servidores copo de nieve(bus factor)</p>
                <p>¿Code reviews?</p>
                <p>Replicado de ambientes(pruebas)</p>
                <p>Evolución del ambiente con el código</p>
            </section>
            <section> <h1>Retomando...</h1></section>
            <section>
                <img src="images/cac/devopsMainIdeas.png">
                <aside class="notes">Silos pueden ser hasta físicos
                        Objetivo de todos es dar valor
                </aside>
            </section>
        </section>
        


        <!--Que gracias-->
        <section data-background="url('images/logo_esquina_intro_end.svg'), linear-gradient(to right, #443548, #b71930, #e94635)"
                 data-background-position="right bottom" data-background-repeat="no-repeat">
            <h1 class="white-font">Muchas Gracias</h1>
        </section>
    </div>
</div>
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script>
                // More info about config & dependencies:
                // - https://github.com/hakimel/reveal.js#configuration
                // - https://github.com/hakimel/reveal.js#dependencies
                Reveal.initialize({
                    defaultTiming: 120,
                    zoomKey: 'shift',
                    dependencies: [
                        { src: 'plugin/markdown/marked.js' },
                        { src: 'plugin/markdown/markdown.js' },
                        { src: 'plugin/zoom-js/zoom.js', async: true },
                        { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                        { src: 'plugin/notes/notes.js', async: true }
                    ]
                });

</script>
</body>
</html>
